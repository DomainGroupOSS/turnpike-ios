
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Resolving Routes | Turnpike</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css"/>
    <link rel="stylesheet" href="_static/yammerdoc.css" type="text/css"/>
    <link rel="top" title="Turnpike" href="index.html"/>
    <link rel="prev" title="Route Requests" href="requests.html"/>
    <style lang="text/css">
        #top-bar, #top-bar small, #top-bar a {
            text-shadow: 0px -1px 0px #182127;
            color: #ffffff;
        }
        
        #top-bar {
            background-color: #363F45;
            background-image: -moz-linear-gradient(top, #545d63, #182127);
            background-image: -ms-linear-gradient(top, #545d63, #182127);
            background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#545d63), to(#182127));
            background-image: -webkit-linear-gradient(top, #545d63, #182127);
            background-image: -o-linear-gradient(top, #545d63, #182127);
            background-image: linear-gradient(top, #545d63, #182127);
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr = '#545d63', endColorstr = '#182127', GradientType = 0);
            -webkit-border-radius: 0;
            -moz-border-radius: 0;
            border-radius: 0;
        }


        .hero-unit {
            background-image: url("_static/dropwizard-hat.png") !important;
            background-repeat: no-repeat !important;
            background-position: 30px 50px;
        }

        .hero-unit div.section {
            padding-left: 150px !important;
        }
    </style>
</head>
<body>
    <a href="https://github.com/URXtech/Turnpike">
        <img style="position: absolute; top: 0; right: 0; border: 0;"
             src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"
             alt="Fork me on GitHub"></a>
    <div class="navbar">
        <div class="navbar-inner container-fluid" id="top-bar">
            <header class="row-fluid">
                <h1 class="span12" id="title"><img class="logo" src="_static/turnpike-logo.png" alt="Logo"/>
                    <a href="index.html">Turnpike</a>
                    <small>Structuring the web of mobile apps.</small>
                </h1>
            </header>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row-fluid">
            <div class="span3" id="sidebar">
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Turnpike</a></li>
<li class="toctree-l1"><a class="reference internal" href="mapping-routes.html">Mapping Routes to Callbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="filter-chains.html">Filter Chains</a></li>
<li class="toctree-l1"><a class="reference internal" href="requests.html">Route Requests</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Resolving Routes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#invoking-urls-routes">Invoking URLs &amp; Routes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#invoking-routes-internally">Invoking Routes Internally</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#launching-external-apps">Launching External Apps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#invoking-external-routes">Invoking External Routes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                <hr/>
            </div>
            <div class="span9" id="body">
                
  <div class="section" id="resolving-routes">
<h1>Resolving Routes</h1>
<div class="section" id="invoking-urls-routes">
<span id="invoking-urls-and-routes"></span><h2>Invoking URLs &amp; Routes</h2>
<p>Routes can either be invoked internally, as a route, or externally, as a URL. Internal invocation is used to navigate or execute route callbacks from within an app, where as external invocation is used to launch your app from another app and then resolve the route (extracted from the URL).</p>
<div class="section" id="invoking-routes-internally">
<span id="examples-invoking-routes-internally"></span><h3>Invoking Routes Internally</h3>
<div class="highlight-objc"><div class="highlight"><pre><span class="p">[</span><span class="n">Turnpike</span> <span class="n">invokeInternalRoute</span><span class="o">:</span><span class="s">@&quot;about/team&quot;</span><span class="p">];</span>
</pre></div>
</div>
<p>Internally invoked routes can be invoked at any time during your app&#8217;s execution. These could be mapped to buttons, gestures, events, etc. These routes are invoked by calling <tt class="docutils literal"><span class="pre">+</span> <span class="pre">(void)invokeInternalRoute:(NSString</span> <span class="pre">*)route</span></tt> and passing a route in route format (described above in mapping routes).</p>
<p>Externally invoked routes should be invoked during your <tt class="docutils literal"><span class="pre">UIApplicationDelegate</span></tt>&#8216;s  <tt class="docutils literal"><span class="pre">–</span> <span class="pre">application:handleOpenURL:</span></tt> or <tt class="docutils literal"><span class="pre">–</span> <span class="pre">application:openURL:sourceApplication:annotation:</span></tt> method. These routes are invoked with the <tt class="docutils literal"><span class="pre">+</span> <span class="pre">(void)invokeExternalRouteFromURL:(NSString</span> <span class="pre">*)url</span></tt> method and should be passed the URL from either of the <tt class="docutils literal"><span class="pre">openURL</span></tt> methods from <tt class="docutils literal"><span class="pre">UIApplicationDelegate</span></tt>.</p>
</div>
</div>
<div class="section" id="launching-external-apps">
<span id="id1"></span><h2>Launching External Apps</h2>
<p><tt class="docutils literal"><span class="pre">Turnpike</span></tt> provides helper methods that wrap functionality from <tt class="docutils literal"><span class="pre">UIApplication</span></tt> to detect which URLs applications installed on the device can respond to and also to invoke those routes.</p>
<div class="section" id="invoking-external-routes">
<span id="examples-invoking-external-routes"></span><h3>Invoking External Routes</h3>
<div class="highlight-objc"><div class="highlight"><pre><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">openURL:</span><span class="p">(</span><span class="n">NSURL</span> <span class="o">*</span><span class="p">)</span><span class="nv">url</span> <span class="nf">sourceApplication:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">sourceApplication</span> <span class="nf">annotation:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">annotation</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">Turnpike</span> <span class="n">invokeExternalRouteFromURL</span><span class="o">:</span><span class="n">url</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To detect if an app is installed, use <tt class="docutils literal"><span class="pre">+</span> <span class="pre">(BOOL)canInvokeExternalURL:(NSString</span> <span class="pre">*)url</span></tt>, and pass in the URL which you intend to invoke. If this returns <tt class="docutils literal"><span class="pre">YES</span></tt>, then use either <tt class="docutils literal"><span class="pre">+</span> <span class="pre">(void)invokeExternalURL:(NSString</span> <span class="pre">*)url</span></tt> or <tt class="docutils literal"><span class="pre">+</span> <span class="pre">(void)invokeExternalAppWithSchema:(NSString</span> <span class="pre">*)schema</span> <span class="pre">Route:(NSString</span> <span class="pre">*)route</span> <span class="pre">AndQueryParameters:(NSDictionary</span> <span class="pre">*)queryParameters</span></tt>. The later will build the URL for you from the destination app&#8217;s custom URL schema, the route you wish to invoke, and the query parameters to build into a URI encoded query string.</p>
</div>
</div>
</div>


            </div>
        </div>
        <hr/>
        <footer>
            &copy; Copyright 2013, URX.
            Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>
            1.2b1.
        </footer>
    </div>
</body>
</html>


